// This file is auto-generated by scripts/generate-metadata.mjs
// DO NOT EDIT MANUALLY

import { articlesMetadata } from './metadata'

export type ArticleMetadata = {
  title: string
  description: string
  date: string
  slug: string
}

// Get articles for a specific locale with fallback to English
export function getArticles(locale: string = 'en'): ArticleMetadata[] {
  return articlesMetadata[locale] || articlesMetadata.en || []
}

// Get all articles (backward compatibility)
export const articles: ArticleMetadata[] = getArticles('en')

// Get a specific article by slug for a given locale
export function getArticleBySlug(slug: string, locale: string = 'en'): ArticleMetadata | undefined {
  const localeArticles = getArticles(locale)
  return localeArticles.find(article => article.slug === slug)
}

// MDX components mapping for all locales (dynamic imports)
const articleComponents: Record<
  string,
  Record<string, () => Promise<{ default: React.ComponentType }>>
> = {
  en: {
    'getting-started-with-ai-coding': () =>
      import('@content/articles/en/getting-started-with-ai-coding.mdx'),
    'mcp-servers-explained': () => import('@content/articles/en/mcp-servers-explained.mdx'),
  },
  'zh-Hans': {
    'getting-started-with-ai-coding': () =>
      import('@content/articles/zh-Hans/getting-started-with-ai-coding.mdx'),
    'mcp-servers-explained': () => import('@content/articles/zh-Hans/mcp-servers-explained.mdx'),
  },
  de: {
    'getting-started-with-ai-coding': () =>
      import('@content/articles/de/getting-started-with-ai-coding.mdx'),
    'mcp-servers-explained': () => import('@content/articles/de/mcp-servers-explained.mdx'),
  },
}

// Get a specific article component for a given locale and slug
export async function getArticleComponent(
  locale: string = 'en',
  slug: string
): Promise<React.ComponentType | null> {
  const loaders = articleComponents[locale] || articleComponents.en
  const loader = loaders?.[slug]
  if (!loader) return null
  const mdxModule = await loader()
  return mdxModule.default
}
